<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: PactBroker::Pacts::Repository
  
    &mdash; Documentation by YARD 0.9.27
  
</title>

  <link rel="stylesheet" href="../../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "PactBroker::Pacts::Repository";
  relpath = '../../';
</script>


  <script type="text/javascript" charset="utf-8" src="../../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../../_index.html">Index (R)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../../PactBroker.html" title="PactBroker (module)">PactBroker</a></span></span> &raquo; <span class='title'><span class='object_link'><a href="../Pacts.html" title="PactBroker::Pacts (module)">Pacts</a></span></span>
     &raquo; 
    <span class="title">Repository</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: PactBroker::Pacts::Repository
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">PactBroker::Pacts::Repository</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="../Logging.html" title="PactBroker::Logging (module)">Logging</a></span>, <span class='object_link'><a href="../Repositories.html" title="PactBroker::Repositories (module)">Repositories</a></span>, <span class='object_link'><a href="../Repositories/Helpers.html" title="PactBroker::Repositories::Helpers (module)">Repositories::Helpers</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/pact_broker/pacts/repository.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>rubocop: disable Metrics/ClassLength</p>


  </div>
</div>
<div class="tags">
  

</div>






  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#create-instance_method" title="#create (instance method)">#<strong>create</strong>(params)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete-instance_method" title="#delete (instance method)">#<strong>delete</strong>(params)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_all_pact_publications_between-instance_method" title="#delete_all_pact_publications_between (instance method)">#<strong>delete_all_pact_publications_between</strong>(consumer_name, options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_all_pact_versions_between-instance_method" title="#delete_all_pact_versions_between (instance method)">#<strong>delete_all_pact_versions_between</strong>(consumer_name, options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_by_version_id-instance_method" title="#delete_by_version_id (instance method)">#<strong>delete_by_version_id</strong>(version_id)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_all_pact_versions_between-instance_method" title="#find_all_pact_versions_between (instance method)">#<strong>find_all_pact_versions_between</strong>(consumer_name, options)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_all_revisions-instance_method" title="#find_all_revisions (instance method)">#<strong>find_all_revisions</strong>(consumer_name, consumer_version_number, provider_name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>rubocop: enable Metrics/CyclomaticComplexity, Metrics/MethodLength.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_by_consumer_version-instance_method" title="#find_by_consumer_version (instance method)">#<strong>find_by_consumer_version</strong>(consumer_name, consumer_version_number)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns latest pact version for the consumer_version_number.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_by_version_and_provider-instance_method" title="#find_by_version_and_provider (instance method)">#<strong>find_by_version_and_provider</strong>(version_id, provider_id)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_for_verification-instance_method" title="#find_for_verification (instance method)">#<strong>find_for_verification</strong>(provider_name, consumer_version_selectors)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_latest_pact-instance_method" title="#find_latest_pact (instance method)">#<strong>find_latest_pact</strong>(consumer_name, provider_name, tag = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_latest_pacts-instance_method" title="#find_latest_pacts (instance method)">#<strong>find_latest_pacts</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_latest_pacts_for_provider-instance_method" title="#find_latest_pacts_for_provider (instance method)">#<strong>find_latest_pacts_for_provider</strong>(provider_name, tag = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_next_pact-instance_method" title="#find_next_pact (instance method)">#<strong>find_next_pact</strong>(pact)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_pact-instance_method" title="#find_pact (instance method)">#<strong>find_pact</strong>(consumer_name, consumer_version_number, provider_name, pact_version_sha = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>rubocop: disable Metrics/CyclomaticComplexity, Metrics/MethodLength.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_pact_version-instance_method" title="#find_pact_version (instance method)">#<strong>find_pact_version</strong>(consumer, provider, pact_version_sha)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_pact_versions_for_provider-instance_method" title="#find_pact_versions_for_provider (instance method)">#<strong>find_pact_versions_for_provider</strong>(provider_name, tag = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_previous_distinct_pact-instance_method" title="#find_previous_distinct_pact (instance method)">#<strong>find_previous_distinct_pact</strong>(pact)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_previous_pact-instance_method" title="#find_previous_pact (instance method)">#<strong>find_previous_pact</strong>(pact, tag = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_previous_pacts-instance_method" title="#find_previous_pacts (instance method)">#<strong>find_previous_pacts</strong>(pact)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#find_wip_pact_versions_for_provider-instance_method" title="#find_wip_pact_versions_for_provider (instance method)">#<strong>find_wip_pact_versions_for_provider</strong>(provider_name, provider_version_branch, provider_tags_names, specified_pact_version_shas, options = {})  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#next_revision_number-instance_method" title="#next_revision_number (instance method)">#<strong>next_revision_number</strong>(existing_model)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This logic is a separate method so we can stub it to create a “conflict” scenario.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#scope_for-instance_method" title="#scope_for (instance method)">#<strong>scope_for</strong>(scope)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#search_for_latest_pact-instance_method" title="#search_for_latest_pact (instance method)">#<strong>search_for_latest_pact</strong>(consumer_name, provider_name, tag = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Allows optional consumer_name and provider_name.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#unscoped-instance_method" title="#unscoped (instance method)">#<strong>unscoped</strong>(scope)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>For the times when it doesn&#39;t make sense to use the scoped class, this is a way to indicate that it is an intentional use of the PactVersion class directly.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update-instance_method" title="#update (instance method)">#<strong>update</strong>(id, params)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update_latest_pact_publication_ids-instance_method" title="#update_latest_pact_publication_ids (instance method)">#<strong>update_latest_pact_publication_ids</strong>(pact_publication)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Repositories/Helpers.html" title="PactBroker::Repositories::Helpers (module)">Repositories::Helpers</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Repositories/Helpers.html#all_allowing_lazy_load-instance_method" title="PactBroker::Repositories::Helpers#all_allowing_lazy_load (method)">#all_allowing_lazy_load</a></span>, <span class='object_link'><a href="../Repositories/Helpers.html#all_forbidding_lazy_load-instance_method" title="PactBroker::Repositories::Helpers#all_forbidding_lazy_load (method)">#all_forbidding_lazy_load</a></span>, <span class='object_link'><a href="../Repositories/Helpers.html#mysql%3F-instance_method" title="PactBroker::Repositories::Helpers#mysql? (method)">#mysql?</a></span>, <span class='object_link'><a href="../Repositories/Helpers.html#name_like-instance_method" title="PactBroker::Repositories::Helpers#name_like (method)">#name_like</a></span>, <span class='object_link'><a href="../Repositories/Helpers.html#no_columns_selected%3F-instance_method" title="PactBroker::Repositories::Helpers#no_columns_selected? (method)">#no_columns_selected?</a></span>, <span class='object_link'><a href="../Repositories/Helpers.html#order_append_ignore_case-instance_method" title="PactBroker::Repositories::Helpers#order_append_ignore_case (method)">#order_append_ignore_case</a></span>, <span class='object_link'><a href="../Repositories/Helpers.html#order_ignore_case-instance_method" title="PactBroker::Repositories::Helpers#order_ignore_case (method)">#order_ignore_case</a></span>, <span class='object_link'><a href="../Repositories/Helpers.html#pacticipant_id_for_name-instance_method" title="PactBroker::Repositories::Helpers#pacticipant_id_for_name (method)">#pacticipant_id_for_name</a></span>, <span class='object_link'><a href="../Repositories/Helpers.html#postgres%3F-instance_method" title="PactBroker::Repositories::Helpers#postgres? (method)">#postgres?</a></span>, <span class='object_link'><a href="../Repositories/Helpers.html#select_all_qualified-instance_method" title="PactBroker::Repositories::Helpers#select_all_qualified (method)">#select_all_qualified</a></span>, <span class='object_link'><a href="../Repositories/Helpers.html#select_append_all_qualified-instance_method" title="PactBroker::Repositories::Helpers#select_append_all_qualified (method)">#select_append_all_qualified</a></span>, <span class='object_link'><a href="../Repositories/Helpers.html#select_for_subquery-instance_method" title="PactBroker::Repositories::Helpers#select_for_subquery (method)">#select_for_subquery</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Repositories.html" title="PactBroker::Repositories (module)">Repositories</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Repositories.html#branch_version_repository-instance_method" title="PactBroker::Repositories#branch_version_repository (method)">#branch_version_repository</a></span>, <span class='object_link'><a href="../Repositories.html#integration_repository-instance_method" title="PactBroker::Repositories#integration_repository (method)">#integration_repository</a></span>, <span class='object_link'><a href="../Repositories.html#label_repository-instance_method" title="PactBroker::Repositories#label_repository (method)">#label_repository</a></span>, <span class='object_link'><a href="../Repositories.html#matrix_repository-instance_method" title="PactBroker::Repositories#matrix_repository (method)">#matrix_repository</a></span>, <span class='object_link'><a href="../Repositories.html#pact_repository-instance_method" title="PactBroker::Repositories#pact_repository (method)">#pact_repository</a></span>, <span class='object_link'><a href="../Repositories.html#pacticipant_repository-instance_method" title="PactBroker::Repositories#pacticipant_repository (method)">#pacticipant_repository</a></span>, <span class='object_link'><a href="../Repositories.html#tag_repository-instance_method" title="PactBroker::Repositories#tag_repository (method)">#tag_repository</a></span>, <span class='object_link'><a href="../Repositories.html#verification_repository-instance_method" title="PactBroker::Repositories#verification_repository (method)">#verification_repository</a></span>, <span class='object_link'><a href="../Repositories.html#version_repository-instance_method" title="PactBroker::Repositories#version_repository (method)">#version_repository</a></span>, <span class='object_link'><a href="../Repositories.html#webhook_repository-instance_method" title="PactBroker::Repositories#webhook_repository (method)">#webhook_repository</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="../Logging.html" title="PactBroker::Logging (module)">Logging</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="../Logging.html#included-class_method" title="PactBroker::Logging.included (method)">included</a></span>, <span class='object_link'><a href="../Logging.html#log_error-instance_method" title="PactBroker::Logging#log_error (method)">#log_error</a></span>, <span class='object_link'><a href="../Logging.html#log_with_tag-instance_method" title="PactBroker::Logging#log_with_tag (method)">#log_with_tag</a></span></p>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="create-instance_method">
  
    #<strong>create</strong>(params)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


39
40
41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56
57</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 39</span>

<span class='kw'>def</span> <span class='id identifier rubyid_create'>create</span> <span class='id identifier rubyid_params'>params</span>
  <span class='id identifier rubyid_integration_repository'>integration_repository</span><span class='period'>.</span><span class='id identifier rubyid_create_for_pact'>create_for_pact</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:consumer_id</span><span class='rparen'>)</span><span class='comma'>,</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:provider_id</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pact_version'>pact_version</span> <span class='op'>=</span> <span class='id identifier rubyid_find_or_create_pact_version'>find_or_create_pact_version</span><span class='lparen'>(</span>
    <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:consumer_id</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:provider_id</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:pact_version_sha</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:json_content</span><span class='rparen'>)</span>
  <span class='rparen'>)</span>
  <span class='id identifier rubyid_pact_publication'>pact_publication</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="PactPublication.html" title="PactBroker::Pacts::PactPublication (class)">PactPublication</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span>
    <span class='label'>consumer_version_id:</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:version_id</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>provider_id:</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:provider_id</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>consumer_id:</span> <span class='id identifier rubyid_params'>params</span><span class='lbracket'>[</span><span class='symbol'>:consumer_id</span><span class='rbracket'>]</span><span class='comma'>,</span>
    <span class='label'>pact_version:</span> <span class='id identifier rubyid_pact_version'>pact_version</span><span class='comma'>,</span>
    <span class='label'>revision_number:</span> <span class='int'>1</span><span class='comma'>,</span>
    <span class='label'>consumer_version_order:</span> <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:version</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='comma'>,</span>
  <span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_upsert'>upsert</span>
  <span class='id identifier rubyid_update_latest_pact_publication_ids'>update_latest_pact_publication_ids</span><span class='lparen'>(</span><span class='id identifier rubyid_pact_publication'>pact_publication</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pact_publication'>pact_publication</span><span class='period'>.</span><span class='id identifier rubyid_to_domain'>to_domain</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete-instance_method">
  
    #<strong>delete</strong>(params)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


102
103
104
105
106
107
108
109
110
111
112</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 102</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete'>delete</span> <span class='id identifier rubyid_params'>params</span>
  <span class='id identifier rubyid_id'>id</span> <span class='op'>=</span> <span class='id identifier rubyid_scope_for'>scope_for</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PactPublication.html" title="PactBroker::Pacts::PactPublication (class)">PactPublication</a></span></span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_join_consumers'>join_consumers</span>
    <span class='period'>.</span><span class='id identifier rubyid_join_providers'>join_providers</span>
    <span class='period'>.</span><span class='id identifier rubyid_join_consumer_versions'>join_consumer_versions</span>
    <span class='period'>.</span><span class='id identifier rubyid_consumer_name_like'>consumer_name_like</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_consumer_name'>consumer_name</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_provider_name_like'>provider_name_like</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_provider_name'>provider_name</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_consumer_version_number_like'>consumer_version_number_like</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_consumer_version_number'>consumer_version_number</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_select_for_subquery'>select_for_subquery</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../Sequel.html" title="Sequel (module)">Sequel</a></span></span><span class='lbracket'>[</span><span class='symbol'>:pact_publications</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='symbol'>:id</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_as'>as</span><span class='lparen'>(</span><span class='symbol'>:id</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_unscoped'>unscoped</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PactPublication.html" title="PactBroker::Pacts::PactPublication (class)">PactPublication</a></span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>id:</span> <span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_all_pact_publications_between-instance_method">
  
    #<strong>delete_all_pact_publications_between</strong>(consumer_name, options)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


126
127
128
129
130
131
132
133
134
135
136</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 126</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_all_pact_publications_between'>delete_all_pact_publications_between</span> <span class='id identifier rubyid_consumer_name'>consumer_name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>
  <span class='id identifier rubyid_consumer'>consumer</span> <span class='op'>=</span> <span class='id identifier rubyid_pacticipant_repository'>pacticipant_repository</span><span class='period'>.</span><span class='id identifier rubyid_find_by_name!'>find_by_name!</span><span class='lparen'>(</span><span class='id identifier rubyid_consumer_name'>consumer_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_provider'>provider</span> <span class='op'>=</span> <span class='id identifier rubyid_pacticipant_repository'>pacticipant_repository</span><span class='period'>.</span><span class='id identifier rubyid_find_by_name!'>find_by_name!</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:and</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_scope_for'>scope_for</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PactPublication.html" title="PactBroker::Pacts::PactPublication (class)">PactPublication</a></span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>consumer:</span> <span class='id identifier rubyid_consumer'>consumer</span><span class='comma'>,</span> <span class='label'>provider:</span> <span class='id identifier rubyid_provider'>provider</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_tag'>tag</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:tag</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_for_branch_name'>for_branch_name</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:branch_name</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_options'>options</span><span class='lbracket'>[</span><span class='symbol'>:branch_name</span><span class='rbracket'>]</span>

  <span class='id identifier rubyid_ids'>ids</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_select_for_subquery'>select_for_subquery</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../../Sequel.html" title="Sequel (module)">Sequel</a></span></span><span class='period'>.</span><span class='id identifier rubyid_qualify'>qualify</span><span class='lparen'>(</span><span class='symbol'>:pact_publications</span><span class='comma'>,</span> <span class='symbol'>:id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_as'>as</span><span class='lparen'>(</span><span class='symbol'>:id</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_webhook_repository'>webhook_repository</span><span class='period'>.</span><span class='id identifier rubyid_delete_triggered_webhooks_by_pact_publication_ids'>delete_triggered_webhooks_by_pact_publication_ids</span><span class='lparen'>(</span><span class='id identifier rubyid_ids'>ids</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_unscoped'>unscoped</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PactPublication.html" title="PactBroker::Pacts::PactPublication (class)">PactPublication</a></span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>id:</span> <span class='id identifier rubyid_ids'>ids</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_all_pact_versions_between-instance_method">
  
    #<strong>delete_all_pact_versions_between</strong>(consumer_name, options)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


138
139
140
141
142</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 138</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_all_pact_versions_between'>delete_all_pact_versions_between</span> <span class='id identifier rubyid_consumer_name'>consumer_name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>
  <span class='id identifier rubyid_consumer'>consumer</span> <span class='op'>=</span> <span class='id identifier rubyid_pacticipant_repository'>pacticipant_repository</span><span class='period'>.</span><span class='id identifier rubyid_find_by_name'>find_by_name</span><span class='lparen'>(</span><span class='id identifier rubyid_consumer_name'>consumer_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_provider'>provider</span> <span class='op'>=</span> <span class='id identifier rubyid_pacticipant_repository'>pacticipant_repository</span><span class='period'>.</span><span class='id identifier rubyid_find_by_name'>find_by_name</span><span class='lparen'>(</span><span class='id identifier rubyid_options'>options</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:and</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_scope_for'>scope_for</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PactVersion.html" title="PactBroker::Pacts::PactVersion (class)">PactVersion</a></span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>consumer:</span> <span class='id identifier rubyid_consumer'>consumer</span><span class='comma'>,</span> <span class='label'>provider:</span> <span class='id identifier rubyid_provider'>provider</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_by_version_id-instance_method">
  
    #<strong>delete_by_version_id</strong>(version_id)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


114
115
116</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 114</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_by_version_id'>delete_by_version_id</span> <span class='id identifier rubyid_version_id'>version_id</span>
  <span class='id identifier rubyid_scope_for'>scope_for</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PactPublication.html" title="PactBroker::Pacts::PactPublication (class)">PactPublication</a></span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>consumer_version_id:</span> <span class='id identifier rubyid_version_id'>version_id</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_all_pact_versions_between-instance_method">
  
    #<strong>find_all_pact_versions_between</strong>(consumer_name, options)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


118
119
120
121
122
123
124</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 118</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_all_pact_versions_between'>find_all_pact_versions_between</span> <span class='id identifier rubyid_consumer_name'>consumer_name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span>
  <span class='id identifier rubyid_find_all_database_versions_between'>find_all_database_versions_between</span><span class='lparen'>(</span><span class='id identifier rubyid_consumer_name'>consumer_name</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_eager'>eager</span><span class='lparen'>(</span><span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:consumer</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_reverse_order'>reverse_order</span><span class='lparen'>(</span><span class='symbol'>:consumer_version_order</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
    <span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_domain</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_all_revisions-instance_method">
  
    #<strong>find_all_revisions</strong>(consumer_name, consumer_version_number, provider_name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>rubocop: enable Metrics/CyclomaticComplexity, Metrics/MethodLength</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


280
281
282
283
284
285
286
287
288</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 280</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_all_revisions'>find_all_revisions</span> <span class='id identifier rubyid_consumer_name'>consumer_name</span><span class='comma'>,</span> <span class='id identifier rubyid_consumer_version_number'>consumer_version_number</span><span class='comma'>,</span> <span class='id identifier rubyid_provider_name'>provider_name</span>
  <span class='id identifier rubyid_scope_for'>scope_for</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PactPublication.html" title="PactBroker::Pacts::PactPublication (class)">PactPublication</a></span></span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_eager'>eager</span><span class='lparen'>(</span><span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:consumer</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_for_provider_name'>for_provider_name</span><span class='lparen'>(</span><span class='id identifier rubyid_provider_name'>provider_name</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_for_consumer_name_and_maybe_version_number'>for_consumer_name_and_maybe_version_number</span><span class='lparen'>(</span><span class='id identifier rubyid_consumer_name'>consumer_name</span><span class='comma'>,</span> <span class='id identifier rubyid_consumer_version_number'>consumer_version_number</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_order_by_consumer_version_order'>order_by_consumer_version_order</span>
    <span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
    <span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_domain_with_content</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_by_consumer_version-instance_method">
  
    #<strong>find_by_consumer_version</strong>(consumer_name, consumer_version_number)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns latest pact version for the consumer_version_number</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


176
177
178
179
180
181
182
183</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 176</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_by_consumer_version'>find_by_consumer_version</span> <span class='id identifier rubyid_consumer_name'>consumer_name</span><span class='comma'>,</span> <span class='id identifier rubyid_consumer_version_number'>consumer_version_number</span>
  <span class='id identifier rubyid_scope_for'>scope_for</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PactPublication.html" title="PactBroker::Pacts::PactPublication (class)">PactPublication</a></span></span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_eager_for_domain_with_content'>eager_for_domain_with_content</span>
    <span class='period'>.</span><span class='id identifier rubyid_for_consumer_name_and_maybe_version_number'>for_consumer_name_and_maybe_version_number</span><span class='lparen'>(</span><span class='id identifier rubyid_consumer_name'>consumer_name</span><span class='comma'>,</span> <span class='id identifier rubyid_consumer_version_number'>consumer_version_number</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_remove_overridden_revisions_from_complete_query'>remove_overridden_revisions_from_complete_query</span>
    <span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
    <span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_domain_with_content</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_by_version_and_provider-instance_method">
  
    #<strong>find_by_version_and_provider</strong>(version_id, provider_id)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


185
186
187
188
189
190
191
192</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 185</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_by_version_and_provider'>find_by_version_and_provider</span> <span class='id identifier rubyid_version_id'>version_id</span><span class='comma'>,</span> <span class='id identifier rubyid_provider_id'>provider_id</span>
  <span class='id identifier rubyid_scope_for'>scope_for</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PactPublication.html" title="PactBroker::Pacts::PactPublication (class)">PactPublication</a></span></span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_eager_for_domain_with_content'>eager_for_domain_with_content</span>
    <span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>consumer_version_id:</span> <span class='id identifier rubyid_version_id'>version_id</span><span class='comma'>,</span> <span class='label'>provider_id:</span> <span class='id identifier rubyid_provider_id'>provider_id</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_remove_overridden_revisions_from_complete_query'>remove_overridden_revisions_from_complete_query</span>
    <span class='period'>.</span><span class='id identifier rubyid_limit'>limit</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_domain_with_content</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_for_verification-instance_method">
  
    #<strong>find_for_verification</strong>(provider_name, consumer_version_selectors)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


158
159
160</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 158</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_for_verification'>find_for_verification</span><span class='lparen'>(</span><span class='id identifier rubyid_provider_name'>provider_name</span><span class='comma'>,</span> <span class='id identifier rubyid_consumer_version_selectors'>consumer_version_selectors</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="PactsForVerificationRepository.html" title="PactBroker::Pacts::PactsForVerificationRepository (class)">PactsForVerificationRepository</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_find'><span class='object_link'><a href="PactsForVerificationRepository.html#find-instance_method" title="PactBroker::Pacts::PactsForVerificationRepository#find (method)">find</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_provider_name'>provider_name</span><span class='comma'>,</span> <span class='id identifier rubyid_consumer_version_selectors'>consumer_version_selectors</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_latest_pact-instance_method">
  
    #<strong>find_latest_pact</strong>(consumer_name, provider_name, tag = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


204
205
206
207
208
209
210
211
212
213
214
215
216
217</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 204</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_latest_pact'>find_latest_pact</span><span class='lparen'>(</span><span class='id identifier rubyid_consumer_name'>consumer_name</span><span class='comma'>,</span> <span class='id identifier rubyid_provider_name'>provider_name</span><span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_scope_for'>scope_for</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PactPublication.html" title="PactBroker::Pacts::PactPublication (class)">PactPublication</a></span></span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_eager_for_domain_with_content'>eager_for_domain_with_content</span>
    <span class='period'>.</span><span class='id identifier rubyid_select_all_qualified'>select_all_qualified</span>
    <span class='period'>.</span><span class='id identifier rubyid_for_consumer_name'>for_consumer_name</span><span class='lparen'>(</span><span class='id identifier rubyid_consumer_name'>consumer_name</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_for_provider_name'>for_provider_name</span><span class='lparen'>(</span><span class='id identifier rubyid_provider_name'>provider_name</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_remove_overridden_revisions'>remove_overridden_revisions</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_tag'>tag</span> <span class='op'>==</span> <span class='symbol'>:untagged</span>
    <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_untagged'>untagged</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_tag'>tag</span>
    <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_for_consumer_version_tag_all_revisions'>for_consumer_version_tag_all_revisions</span><span class='lparen'>(</span><span class='id identifier rubyid_tag'>tag</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_latest_by_consumer_version_order'>latest_by_consumer_version_order</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_domain_with_content</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_latest_pacts-instance_method">
  
    #<strong>find_latest_pacts</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


194
195
196
197
198
199
200
201
202</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 194</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_latest_pacts'>find_latest_pacts</span>
  <span class='id identifier rubyid_scope_for'>scope_for</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PactPublication.html" title="PactBroker::Pacts::PactPublication (class)">PactPublication</a></span></span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_eager_for_domain_with_content'>eager_for_domain_with_content</span>
    <span class='period'>.</span><span class='id identifier rubyid_overall_latest'>overall_latest</span>
    <span class='period'>.</span><span class='id identifier rubyid_eager'>eager</span><span class='lparen'>(</span><span class='symbol'>:provider</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
    <span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_domain</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_latest_pacts_for_provider-instance_method">
  
    #<strong>find_latest_pacts_for_provider</strong>(provider_name, tag = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


144
145
146
147
148
149
150
151
152
153
154
155
156</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 144</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_latest_pacts_for_provider'>find_latest_pacts_for_provider</span> <span class='id identifier rubyid_provider_name'>provider_name</span><span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_scope_for'>scope_for</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PactPublication.html" title="PactBroker::Pacts::PactPublication (class)">PactPublication</a></span></span><span class='rparen'>)</span>
            <span class='period'>.</span><span class='id identifier rubyid_for_provider_name'>for_provider_name</span><span class='lparen'>(</span><span class='id identifier rubyid_provider_name'>provider_name</span><span class='rparen'>)</span>
            <span class='period'>.</span><span class='id identifier rubyid_eager'>eager</span><span class='lparen'>(</span><span class='symbol'>:consumer</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_tag'>tag</span>
    <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_latest_for_consumer_tag'>latest_for_consumer_tag</span><span class='lparen'>(</span><span class='id identifier rubyid_tag'>tag</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_overall_latest'>overall_latest</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='period'>.</span><span class='id identifier rubyid_sort_by'>sort_by</span><span class='lbrace'>{</span> <span class='op'>|</span> <span class='id identifier rubyid_p'>p</span><span class='op'>|</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_consumer_name'>consumer_name</span><span class='period'>.</span><span class='id identifier rubyid_downcase'>downcase</span> <span class='rbrace'>}</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_head_pact</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_next_pact-instance_method">
  
    #<strong>find_next_pact</strong>(pact)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


311
312
313
314
315
316
317
318
319
320
321</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 311</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_next_pact'>find_next_pact</span> <span class='id identifier rubyid_pact'>pact</span>
  <span class='id identifier rubyid_scope_for'>scope_for</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PactPublication.html" title="PactBroker::Pacts::PactPublication (class)">PactPublication</a></span></span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_eager'>eager</span><span class='lparen'>(</span><span class='symbol'>:tags</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_for_consumer_name'>for_consumer_name</span><span class='lparen'>(</span><span class='id identifier rubyid_pact'>pact</span><span class='period'>.</span><span class='id identifier rubyid_consumer'>consumer</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_for_provider_name'>for_provider_name</span><span class='lparen'>(</span><span class='id identifier rubyid_pact'>pact</span><span class='period'>.</span><span class='id identifier rubyid_provider'>provider</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_remove_overridden_revisions'>remove_overridden_revisions</span>
    <span class='period'>.</span><span class='id identifier rubyid_consumer_version_order_after'>consumer_version_order_after</span><span class='lparen'>(</span><span class='id identifier rubyid_pact'>pact</span><span class='period'>.</span><span class='id identifier rubyid_consumer_version'>consumer_version</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_earliest'>earliest</span>
    <span class='period'>.</span><span class='id identifier rubyid_all_allowing_lazy_load'>all_allowing_lazy_load</span>
    <span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_domain_with_content</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_pact-instance_method">
  
    #<strong>find_pact</strong>(consumer_name, consumer_version_number, provider_name, pact_version_sha = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>rubocop: disable Metrics/CyclomaticComplexity, Metrics/MethodLength</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 238</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_pact'>find_pact</span> <span class='id identifier rubyid_consumer_name'>consumer_name</span><span class='comma'>,</span> <span class='id identifier rubyid_consumer_version_number'>consumer_version_number</span><span class='comma'>,</span> <span class='id identifier rubyid_provider_name'>provider_name</span><span class='comma'>,</span> <span class='id identifier rubyid_pact_version_sha'>pact_version_sha</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_pact_publication_by_consumer_version'>pact_publication_by_consumer_version</span> <span class='op'>=</span> <span class='id identifier rubyid_scope_for'>scope_for</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PactPublication.html" title="PactBroker::Pacts::PactPublication (class)">PactPublication</a></span></span><span class='rparen'>)</span>
      <span class='period'>.</span><span class='id identifier rubyid_eager_for_domain_with_content'>eager_for_domain_with_content</span>
      <span class='period'>.</span><span class='id identifier rubyid_select_all_qualified'>select_all_qualified</span>
      <span class='period'>.</span><span class='id identifier rubyid_for_consumer_name_and_maybe_version_number'>for_consumer_name_and_maybe_version_number</span><span class='lparen'>(</span><span class='id identifier rubyid_consumer_name'>consumer_name</span><span class='comma'>,</span> <span class='id identifier rubyid_consumer_version_number'>consumer_version_number</span><span class='rparen'>)</span>
      <span class='period'>.</span><span class='id identifier rubyid_for_provider_name'>for_provider_name</span><span class='lparen'>(</span><span class='id identifier rubyid_provider_name'>provider_name</span><span class='rparen'>)</span>
      <span class='period'>.</span><span class='id identifier rubyid_remove_overridden_revisions'>remove_overridden_revisions</span>
      <span class='period'>.</span><span class='id identifier rubyid_limit'>limit</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>

  <span class='id identifier rubyid_latest_pact_publication_by_sha'>latest_pact_publication_by_sha</span> <span class='op'>=</span> <span class='id identifier rubyid_scope_for'>scope_for</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PactPublication.html" title="PactBroker::Pacts::PactPublication (class)">PactPublication</a></span></span><span class='rparen'>)</span>
      <span class='period'>.</span><span class='id identifier rubyid_eager_for_domain_with_content'>eager_for_domain_with_content</span>
      <span class='period'>.</span><span class='id identifier rubyid_select_all_qualified'>select_all_qualified</span>
      <span class='period'>.</span><span class='id identifier rubyid_for_consumer_name'>for_consumer_name</span><span class='lparen'>(</span><span class='id identifier rubyid_consumer_name'>consumer_name</span><span class='rparen'>)</span>
      <span class='period'>.</span><span class='id identifier rubyid_for_provider_name'>for_provider_name</span><span class='lparen'>(</span><span class='id identifier rubyid_provider_name'>provider_name</span><span class='rparen'>)</span>
      <span class='period'>.</span><span class='id identifier rubyid_for_pact_version_sha'>for_pact_version_sha</span><span class='lparen'>(</span><span class='id identifier rubyid_pact_version_sha'>pact_version_sha</span><span class='rparen'>)</span>
      <span class='period'>.</span><span class='id identifier rubyid_reverse_order'>reverse_order</span><span class='lparen'>(</span><span class='symbol'>:consumer_version_order</span><span class='comma'>,</span> <span class='symbol'>:revision_number</span><span class='rparen'>)</span>
      <span class='period'>.</span><span class='id identifier rubyid_limit'>limit</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_consumer_version_number'>consumer_version_number</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_pact_version_sha'>pact_version_sha</span>
    <span class='id identifier rubyid_pact_publication_by_consumer_version'>pact_publication_by_consumer_version</span>
      <span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
      <span class='op'>&amp;.</span><span class='id identifier rubyid_to_domain_with_content'>to_domain_with_content</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_pact_version_sha'>pact_version_sha</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_consumer_version_number'>consumer_version_number</span>
    <span class='id identifier rubyid_latest_pact_publication_by_sha'>latest_pact_publication_by_sha</span>
      <span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
      <span class='op'>&amp;.</span><span class='id identifier rubyid_to_domain_with_content'>to_domain_with_content</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_consumer_version_number'>consumer_version_number</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_pact_version_sha'>pact_version_sha</span>
    <span class='id identifier rubyid_pact_publication'>pact_publication</span> <span class='op'>=</span> <span class='id identifier rubyid_pact_publication_by_consumer_version'>pact_publication_by_consumer_version</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_pact_publication'>pact_publication</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_pact_publication'>pact_publication</span><span class='period'>.</span><span class='id identifier rubyid_pact_version'>pact_version</span><span class='period'>.</span><span class='id identifier rubyid_sha'>sha</span> <span class='op'>==</span> <span class='id identifier rubyid_pact_version_sha'>pact_version_sha</span>
      <span class='id identifier rubyid_pact_publication'>pact_publication</span><span class='period'>.</span><span class='id identifier rubyid_to_domain_with_content'>to_domain_with_content</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_latest_pact_publication_by_sha'>latest_pact_publication_by_sha</span><span class='period'>.</span><span class='id identifier rubyid_first'>first</span><span class='op'>&amp;.</span><span class='id identifier rubyid_to_domain_with_content'>to_domain_with_content</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_pact_publication_by_consumer_version'>pact_publication_by_consumer_version</span>
      <span class='period'>.</span><span class='id identifier rubyid_reverse_order'>reverse_order</span><span class='lparen'>(</span><span class='symbol'>:consumer_version_order</span><span class='comma'>,</span> <span class='symbol'>:revision_number</span><span class='rparen'>)</span>
      <span class='period'>.</span><span class='id identifier rubyid_first'>first</span>
      <span class='op'>&amp;.</span><span class='id identifier rubyid_to_domain_with_content'>to_domain_with_content</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_pact_version-instance_method">
  
    #<strong>find_pact_version</strong>(consumer, provider, pact_version_sha)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


342
343
344</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 342</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_pact_version'>find_pact_version</span><span class='lparen'>(</span><span class='id identifier rubyid_consumer'>consumer</span><span class='comma'>,</span> <span class='id identifier rubyid_provider'>provider</span><span class='comma'>,</span> <span class='id identifier rubyid_pact_version_sha'>pact_version_sha</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="../../PactBroker.html" title="PactBroker (module)">PactBroker</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Pacts.html" title="PactBroker::Pacts (module)">Pacts</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="PactVersion.html" title="PactBroker::Pacts::PactVersion (class)">PactVersion</a></span></span><span class='period'>.</span><span class='id identifier rubyid_where'>where</span><span class='lparen'>(</span><span class='label'>consumer_id:</span> <span class='id identifier rubyid_consumer'>consumer</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='label'>provider_id:</span> <span class='id identifier rubyid_provider'>provider</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='label'>sha:</span> <span class='id identifier rubyid_pact_version_sha'>pact_version_sha</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_single_record'>single_record</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_pact_versions_for_provider-instance_method">
  
    #<strong>find_pact_versions_for_provider</strong>(provider_name, tag = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


166
167
168
169
170
171
172
173</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 166</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_pact_versions_for_provider'>find_pact_versions_for_provider</span> <span class='id identifier rubyid_provider_name'>provider_name</span><span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_scope_for'>scope_for</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PactPublication.html" title="PactBroker::Pacts::PactPublication (class)">PactPublication</a></span></span><span class='rparen'>)</span>
      <span class='period'>.</span><span class='id identifier rubyid_select_all_qualified'>select_all_qualified</span>
      <span class='period'>.</span><span class='id identifier rubyid_eager_for_domain_with_content'>eager_for_domain_with_content</span>
      <span class='period'>.</span><span class='id identifier rubyid_for_provider_name'>for_provider_name</span><span class='lparen'>(</span><span class='id identifier rubyid_provider_name'>provider_name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_for_consumer_version_tag'>for_consumer_version_tag</span><span class='lparen'>(</span><span class='id identifier rubyid_tag'>tag</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_tag'>tag</span>
  <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_all'>all</span><span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_domain</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_sort'>sort</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_previous_distinct_pact-instance_method">
  
    #<strong>find_previous_distinct_pact</strong>(pact)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


323
324
325
326
327
328
329
330</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 323</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_previous_distinct_pact'>find_previous_distinct_pact</span> <span class='id identifier rubyid_pact'>pact</span>
  <span class='id identifier rubyid_previous'>previous</span><span class='comma'>,</span> <span class='id identifier rubyid_current'>current</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='comma'>,</span> <span class='id identifier rubyid_pact'>pact</span>
  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_previous'>previous</span> <span class='op'>=</span> <span class='id identifier rubyid_find_previous_distinct_pact_by_sha'>find_previous_distinct_pact_by_sha</span><span class='lparen'>(</span><span class='id identifier rubyid_current'>current</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='id identifier rubyid_previous'>previous</span> <span class='kw'>if</span> <span class='id identifier rubyid_previous'>previous</span><span class='period'>.</span><span class='id identifier rubyid_nil?'>nil?</span> <span class='op'>||</span> <span class='id identifier rubyid_different?'>different?</span><span class='lparen'>(</span><span class='id identifier rubyid_current'>current</span><span class='comma'>,</span> <span class='id identifier rubyid_previous'>previous</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_current'>current</span> <span class='op'>=</span> <span class='id identifier rubyid_previous'>previous</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_previous_pact-instance_method">
  
    #<strong>find_previous_pact</strong>(pact, tag = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 290</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_previous_pact'>find_previous_pact</span> <span class='id identifier rubyid_pact'>pact</span><span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span> <span class='op'>=</span> <span class='kw'>nil</span>
  <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_scope_for'>scope_for</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PactPublication.html" title="PactBroker::Pacts::PactPublication (class)">PactPublication</a></span></span><span class='rparen'>)</span>
      <span class='period'>.</span><span class='id identifier rubyid_eager_for_domain_with_content'>eager_for_domain_with_content</span>
      <span class='period'>.</span><span class='id identifier rubyid_remove_overridden_revisions'>remove_overridden_revisions</span>
      <span class='period'>.</span><span class='id identifier rubyid_eager'>eager</span><span class='lparen'>(</span><span class='symbol'>:tags</span><span class='comma'>,</span> <span class='symbol'>:consumer</span><span class='rparen'>)</span>
      <span class='period'>.</span><span class='id identifier rubyid_for_consumer_name'>for_consumer_name</span><span class='lparen'>(</span><span class='id identifier rubyid_pact'>pact</span><span class='period'>.</span><span class='id identifier rubyid_consumer'>consumer</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
      <span class='period'>.</span><span class='id identifier rubyid_for_provider_name'>for_provider_name</span><span class='lparen'>(</span><span class='id identifier rubyid_pact'>pact</span><span class='period'>.</span><span class='id identifier rubyid_provider'>provider</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_tag'>tag</span> <span class='op'>==</span> <span class='symbol'>:untagged</span>
    <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_untagged'>untagged</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_tag'>tag</span>
    <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_for_consumer_version_tag_all_revisions'>for_consumer_version_tag_all_revisions</span><span class='lparen'>(</span><span class='id identifier rubyid_tag'>tag</span><span class='rparen'>)</span>
  <span class='kw'>end</span>

  <span class='id identifier rubyid_query'>query</span>
    <span class='period'>.</span><span class='id identifier rubyid_consumer_version_order_before'>consumer_version_order_before</span><span class='lparen'>(</span><span class='id identifier rubyid_pact'>pact</span><span class='period'>.</span><span class='id identifier rubyid_consumer_version'>consumer_version</span><span class='period'>.</span><span class='id identifier rubyid_order'>order</span><span class='rparen'>)</span>
    <span class='period'>.</span><span class='id identifier rubyid_latest_by_consumer_version_order'>latest_by_consumer_version_order</span>
    <span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
    <span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_domain_with_content</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_previous_pacts-instance_method">
  
    #<strong>find_previous_pacts</strong>(pact)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


332
333
334
335
336
337
338
339
340</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 332</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_previous_pacts'>find_previous_pacts</span> <span class='id identifier rubyid_pact'>pact</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_pact'>pact</span><span class='period'>.</span><span class='id identifier rubyid_consumer_version_tag_names'>consumer_version_tag_names</span><span class='period'>.</span><span class='id identifier rubyid_any?'>any?</span>
    <span class='id identifier rubyid_pact'>pact</span><span class='period'>.</span><span class='id identifier rubyid_consumer_version_tag_names'>consumer_version_tag_names</span><span class='period'>.</span><span class='id identifier rubyid_each_with_object'>each_with_object</span><span class='lparen'>(</span><span class='lbrace'>{</span><span class='rbrace'>}</span><span class='rparen'>)</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_tag'>tag</span><span class='comma'>,</span> <span class='id identifier rubyid_tags_to_pacts'>tags_to_pacts</span><span class='op'>|</span>
      <span class='id identifier rubyid_tags_to_pacts'>tags_to_pacts</span><span class='lbracket'>[</span><span class='id identifier rubyid_tag'>tag</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid_find_previous_pact'>find_previous_pact</span><span class='lparen'>(</span><span class='id identifier rubyid_pact'>pact</span><span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='lbrace'>{</span> <span class='symbol'>:untagged</span> <span class='op'>=&gt;</span> <span class='id identifier rubyid_find_previous_pact'>find_previous_pact</span><span class='lparen'>(</span><span class='id identifier rubyid_pact'>pact</span><span class='comma'>,</span> <span class='symbol'>:untagged</span><span class='rparen'>)</span> <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="find_wip_pact_versions_for_provider-instance_method">
  
    #<strong>find_wip_pact_versions_for_provider</strong>(provider_name, provider_version_branch, provider_tags_names, specified_pact_version_shas, options = {})  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


162
163
164</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 162</span>

<span class='kw'>def</span> <span class='id identifier rubyid_find_wip_pact_versions_for_provider'>find_wip_pact_versions_for_provider</span> <span class='id identifier rubyid_provider_name'>provider_name</span><span class='comma'>,</span> <span class='id identifier rubyid_provider_version_branch'>provider_version_branch</span><span class='comma'>,</span> <span class='id identifier rubyid_provider_tags_names'>provider_tags_names</span><span class='comma'>,</span> <span class='id identifier rubyid_specified_pact_version_shas'>specified_pact_version_shas</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span> <span class='op'>=</span> <span class='lbrace'>{</span><span class='rbrace'>}</span>
  <span class='const'><span class='object_link'><a href="PactsForVerificationRepository.html" title="PactBroker::Pacts::PactsForVerificationRepository (class)">PactsForVerificationRepository</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='period'>.</span><span class='id identifier rubyid_find_wip'><span class='object_link'><a href="PactsForVerificationRepository.html#find_wip-instance_method" title="PactBroker::Pacts::PactsForVerificationRepository#find_wip (method)">find_wip</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_provider_name'>provider_name</span><span class='comma'>,</span> <span class='id identifier rubyid_provider_version_branch'>provider_version_branch</span><span class='comma'>,</span> <span class='id identifier rubyid_provider_tags_names'>provider_tags_names</span><span class='comma'>,</span> <span class='id identifier rubyid_specified_pact_version_shas'>specified_pact_version_shas</span><span class='comma'>,</span> <span class='id identifier rubyid_options'>options</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="next_revision_number-instance_method">
  
    #<strong>next_revision_number</strong>(existing_model)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This logic is a separate method so we can stub it to create a “conflict” scenario</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


85
86
87</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 85</span>

<span class='kw'>def</span> <span class='id identifier rubyid_next_revision_number'>next_revision_number</span><span class='lparen'>(</span><span class='id identifier rubyid_existing_model'>existing_model</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_existing_model'>existing_model</span><span class='period'>.</span><span class='id identifier rubyid_revision_number'>revision_number</span> <span class='op'>+</span> <span class='int'>1</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="scope_for-instance_method">
  
    #<strong>scope_for</strong>(scope)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


29
30
31</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 29</span>

<span class='kw'>def</span> <span class='id identifier rubyid_scope_for'>scope_for</span><span class='lparen'>(</span><span class='id identifier rubyid_scope'>scope</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="../../PactBroker.html" title="PactBroker (module)">PactBroker</a></span></span><span class='period'>.</span><span class='id identifier rubyid_policy_scope!'><span class='object_link'><a href="../../PactBroker.html#policy_scope!-class_method" title="PactBroker.policy_scope! (method)">policy_scope!</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_scope'>scope</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="search_for_latest_pact-instance_method">
  
    #<strong>search_for_latest_pact</strong>(consumer_name, provider_name, tag = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Allows optional consumer_name and provider_name</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 220</span>

<span class='kw'>def</span> <span class='id identifier rubyid_search_for_latest_pact'>search_for_latest_pact</span><span class='lparen'>(</span><span class='id identifier rubyid_consumer_name'>consumer_name</span><span class='comma'>,</span> <span class='id identifier rubyid_provider_name'>provider_name</span><span class='comma'>,</span> <span class='id identifier rubyid_tag'>tag</span> <span class='op'>=</span> <span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_scope_for'>scope_for</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PactPublication.html" title="PactBroker::Pacts::PactPublication (class)">PactPublication</a></span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_select_all_qualified'>select_all_qualified</span><span class='period'>.</span><span class='id identifier rubyid_eager_for_domain_with_content'>eager_for_domain_with_content</span>
  <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_for_consumer_name'>for_consumer_name</span><span class='lparen'>(</span><span class='id identifier rubyid_consumer_name'>consumer_name</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_consumer_name'>consumer_name</span>
  <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_for_provider_name'>for_provider_name</span><span class='lparen'>(</span><span class='id identifier rubyid_provider_name'>provider_name</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_provider_name'>provider_name</span>

  <span class='kw'>if</span> <span class='id identifier rubyid_tag'>tag</span> <span class='op'>==</span> <span class='symbol'>:untagged</span>
    <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_untagged'>untagged</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_tag'>tag</span>
    <span class='id identifier rubyid_query'>query</span> <span class='op'>=</span> <span class='id identifier rubyid_query'>query</span><span class='period'>.</span><span class='id identifier rubyid_for_consumer_version_tag_all_revisions'>for_consumer_version_tag_all_revisions</span><span class='lparen'>(</span><span class='id identifier rubyid_tag'>tag</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_query'>query</span>
    <span class='period'>.</span><span class='id identifier rubyid_remove_overridden_revisions_from_complete_query'>remove_overridden_revisions_from_complete_query</span>
    <span class='period'>.</span><span class='id identifier rubyid_latest_by_consumer_version_order'>latest_by_consumer_version_order</span>
    <span class='period'>.</span><span class='id identifier rubyid_all'>all</span>
    <span class='period'>.</span><span class='id identifier rubyid_collect'>collect</span><span class='lparen'>(</span><span class='op'>&amp;</span><span class='symbol'>:to_domain_with_content</span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="unscoped-instance_method">
  
    #<strong>unscoped</strong>(scope)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>For the times when it doesn&#39;t make sense to use the scoped class, this is a way to indicate that it is an intentional use of the PactVersion class directly.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


35
36
37</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 35</span>

<span class='kw'>def</span> <span class='id identifier rubyid_unscoped'>unscoped</span><span class='lparen'>(</span><span class='id identifier rubyid_scope'>scope</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_scope'>scope</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update-instance_method">
  
    #<strong>update</strong>(id, params)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


59
60
61
62
63
64
65
66
67
68
69
70
71
72
73
74
75
76
77
78
79
80
81
82</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 59</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update'>update</span> <span class='id identifier rubyid_id'>id</span><span class='comma'>,</span> <span class='id identifier rubyid_params'>params</span>
  <span class='id identifier rubyid_existing_model'>existing_model</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="PactPublication.html" title="PactBroker::Pacts::PactPublication (class)">PactPublication</a></span></span><span class='period'>.</span><span class='id identifier rubyid_find'>find</span><span class='lparen'>(</span><span class='label'>id:</span> <span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pact_version'>pact_version</span> <span class='op'>=</span> <span class='id identifier rubyid_find_or_create_pact_version'>find_or_create_pact_version</span><span class='lparen'>(</span>
    <span class='id identifier rubyid_existing_model'>existing_model</span><span class='period'>.</span><span class='id identifier rubyid_consumer_version'>consumer_version</span><span class='period'>.</span><span class='id identifier rubyid_pacticipant_id'>pacticipant_id</span><span class='comma'>,</span>
    <span class='id identifier rubyid_existing_model'>existing_model</span><span class='period'>.</span><span class='id identifier rubyid_provider_id'>provider_id</span><span class='comma'>,</span>
    <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:pact_version_sha</span><span class='rparen'>)</span><span class='comma'>,</span>
    <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_fetch'>fetch</span><span class='lparen'>(</span><span class='symbol'>:json_content</span><span class='rparen'>)</span>
  <span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_existing_model'>existing_model</span><span class='period'>.</span><span class='id identifier rubyid_pact_version_id'>pact_version_id</span> <span class='op'>!=</span> <span class='id identifier rubyid_pact_version'>pact_version</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
    <span class='id identifier rubyid_pact_publication'>pact_publication</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="PactPublication.html" title="PactBroker::Pacts::PactPublication (class)">PactPublication</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span>
      <span class='label'>consumer_version_id:</span> <span class='id identifier rubyid_existing_model'>existing_model</span><span class='period'>.</span><span class='id identifier rubyid_consumer_version_id'>consumer_version_id</span><span class='comma'>,</span>
      <span class='label'>provider_id:</span> <span class='id identifier rubyid_existing_model'>existing_model</span><span class='period'>.</span><span class='id identifier rubyid_provider_id'>provider_id</span><span class='comma'>,</span>
      <span class='label'>revision_number:</span> <span class='id identifier rubyid_next_revision_number'>next_revision_number</span><span class='lparen'>(</span><span class='id identifier rubyid_existing_model'>existing_model</span><span class='rparen'>)</span><span class='comma'>,</span>
      <span class='label'>consumer_id:</span> <span class='id identifier rubyid_existing_model'>existing_model</span><span class='period'>.</span><span class='id identifier rubyid_consumer_id'>consumer_id</span><span class='comma'>,</span>
      <span class='label'>consumer_version_order:</span> <span class='id identifier rubyid_existing_model'>existing_model</span><span class='period'>.</span><span class='id identifier rubyid_consumer_version_order'>consumer_version_order</span><span class='comma'>,</span>
      <span class='label'>pact_version_id:</span> <span class='id identifier rubyid_pact_version'>pact_version</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span>
      <span class='label'>created_at:</span> <span class='const'><span class='object_link'><a href="../../Sequel.html" title="Sequel (module)">Sequel</a></span></span><span class='period'>.</span><span class='id identifier rubyid_datetime_class'>datetime_class</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span>
    <span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_upsert'>upsert</span>
    <span class='id identifier rubyid_update_latest_pact_publication_ids'>update_latest_pact_publication_ids</span><span class='lparen'>(</span><span class='id identifier rubyid_pact_publication'>pact_publication</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pact_publication'>pact_publication</span><span class='period'>.</span><span class='id identifier rubyid_to_domain'>to_domain</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_existing_model'>existing_model</span><span class='period'>.</span><span class='id identifier rubyid_to_domain'>to_domain</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update_latest_pact_publication_ids-instance_method">
  
    #<strong>update_latest_pact_publication_ids</strong>(pact_publication)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


89
90
91
92
93
94
95
96
97
98
99
100</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/pacts/repository.rb', line 89</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update_latest_pact_publication_ids'>update_latest_pact_publication_ids</span><span class='lparen'>(</span><span class='id identifier rubyid_pact_publication'>pact_publication</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_params'>params</span> <span class='op'>=</span> <span class='lbrace'>{</span>
    <span class='label'>consumer_version_id:</span> <span class='id identifier rubyid_pact_publication'>pact_publication</span><span class='period'>.</span><span class='id identifier rubyid_consumer_version_id'>consumer_version_id</span><span class='comma'>,</span>
    <span class='label'>provider_id:</span> <span class='id identifier rubyid_pact_publication'>pact_publication</span><span class='period'>.</span><span class='id identifier rubyid_provider_id'>provider_id</span><span class='comma'>,</span>
    <span class='label'>pact_publication_id:</span> <span class='id identifier rubyid_pact_publication'>pact_publication</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span>
    <span class='label'>consumer_id:</span> <span class='id identifier rubyid_pact_publication'>pact_publication</span><span class='period'>.</span><span class='id identifier rubyid_consumer_id'>consumer_id</span><span class='comma'>,</span>
    <span class='label'>pact_version_id:</span> <span class='id identifier rubyid_pact_publication'>pact_publication</span><span class='period'>.</span><span class='id identifier rubyid_pact_version_id'>pact_version_id</span><span class='comma'>,</span>
    <span class='label'>created_at:</span> <span class='id identifier rubyid_pact_publication'>pact_publication</span><span class='period'>.</span><span class='id identifier rubyid_consumer_version'>consumer_version</span><span class='period'>.</span><span class='id identifier rubyid_created_at'>created_at</span>
  <span class='rbrace'>}</span>

  <span class='const'><span class='object_link'><a href="LatestPactPublicationIdForConsumerVersion.html" title="PactBroker::Pacts::LatestPactPublicationIdForConsumerVersion (class)">LatestPactPublicationIdForConsumerVersion</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_upsert'>upsert</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Mar 22 17:40:15 2022 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.27 (ruby-2.7.5).
</div>

    </div>
  </body>
</html>