<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: PactBroker::App
  
    &mdash; Documentation by YARD 0.9.27
  
</title>

  <link rel="stylesheet" href="../css/style.css" type="text/css" />

  <link rel="stylesheet" href="../css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "PactBroker::App";
  relpath = '../';
</script>


  <script type="text/javascript" charset="utf-8" src="../js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="../js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="../class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="../_index.html">Index (A)</a> &raquo;
    <span class='title'><span class='object_link'><a href="../PactBroker.html" title="PactBroker (module)">PactBroker</a></span></span>
     &raquo; 
    <span class="title">App</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="../class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: PactBroker::App
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">PactBroker::App</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Logging.html" title="PactBroker::Logging (module)">Logging</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>lib/pact_broker/app.rb</dd>
  </dl>
  
</div>





  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#configuration-instance_method" title="#configuration (instance method)">#<strong>configuration</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute configuration.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#call-instance_method" title="#call (instance method)">#<strong>call</strong>(env)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong> {|configuration| ... } &#x21d2; App </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of App.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use-instance_method" title="#use (instance method)">#<strong>use</strong>(*args, &amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Allows middleware to be inserted at the bottom of the shared middlware stack (ie just before the cascade is called for diagnostic, UI and API).</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use_api_auth-instance_method" title="#use_api_auth (instance method)">#<strong>use_api_auth</strong>(middleware)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>private API, not sure if this will continue to be supported.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use_custom_api-instance_method" title="#use_custom_api (instance method)">#<strong>use_custom_api</strong>(custom_api)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use_custom_ui-instance_method" title="#use_custom_ui (instance method)">#<strong>use_custom_ui</strong>(custom_ui)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use_to_create_pact_broker_api-instance_method" title="#use_to_create_pact_broker_api (instance method)">#<strong>use_to_create_pact_broker_api</strong>(&amp;block)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#use_ui_auth-instance_method" title="#use_ui_auth (instance method)">#<strong>use_ui_auth</strong>(middleware)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>private API, not sure if this will continue to be supported.</p>
</div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Logging.html" title="PactBroker::Logging (module)">Logging</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Logging.html#included-class_method" title="PactBroker::Logging.included (method)">included</a></span>, <span class='object_link'><a href="Logging.html#log_error-instance_method" title="PactBroker::Logging#log_error (method)">#log_error</a></span>, <span class='object_link'><a href="Logging.html#log_with_tag-instance_method" title="PactBroker::Logging#log_with_tag (method)">#log_with_tag</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong> {|configuration| ... } &#x21d2; <tt><span class='object_link'><a href="" title="PactBroker::App (class)">App</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of App.</p>


  </div>
</div>
<div class="tags">
  
<p class="tag_title">Yields:</p>
<ul class="yield">
  
    <li>
      
      
        <span class='type'>(<tt><span class='object_link'><a href="#configuration-instance_method" title="PactBroker::App#configuration (method)">configuration</a></span></tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


41
42
43
44
45
46
47
48
49
50
51
52
53
54
55
56</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/app.rb', line 41</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
  <span class='ivar'>@app_builder</span> <span class='op'>=</span> <span class='op'>::</span><span class='const'><span class='object_link'><a href="../Rack.html" title="Rack (module)">Rack</a></span></span><span class='op'>::</span><span class='const'>Builder</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
  <span class='ivar'>@cascade_apps</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@make_it_later_api_auth</span> <span class='op'>=</span> <span class='op'>::</span><span class='const'><span class='object_link'><a href="../Rack.html" title="Rack (module)">Rack</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Rack/PactBroker.html" title="Rack::PactBroker (module)">PactBroker</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Rack/PactBroker/ConfigurableMakeItLater.html" title="Rack::PactBroker::ConfigurableMakeItLater (class)">ConfigurableMakeItLater</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Rack/PactBroker/ConfigurableMakeItLater.html#new-instance_method" title="Rack::PactBroker::ConfigurableMakeItLater#new (method)">new</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Rack.html" title="Rack (module)">Rack</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Rack/PactBroker.html" title="Rack::PactBroker (module)">PactBroker</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Rack/PactBroker/NoAuth.html" title="Rack::PactBroker::NoAuth (class)">NoAuth</a></span></span><span class='rparen'>)</span>
  <span class='ivar'>@make_it_later_ui_auth</span> <span class='op'>=</span> <span class='op'>::</span><span class='const'><span class='object_link'><a href="../Rack.html" title="Rack (module)">Rack</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Rack/PactBroker.html" title="Rack::PactBroker (module)">PactBroker</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Rack/PactBroker/ConfigurableMakeItLater.html" title="Rack::PactBroker::ConfigurableMakeItLater (class)">ConfigurableMakeItLater</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="../Rack/PactBroker/ConfigurableMakeItLater.html#new-instance_method" title="Rack::PactBroker::ConfigurableMakeItLater#new (method)">new</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="../Rack.html" title="Rack (module)">Rack</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Rack/PactBroker.html" title="Rack::PactBroker (module)">PactBroker</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="../Rack/PactBroker/NoAuth.html" title="Rack::PactBroker::NoAuth (class)">NoAuth</a></span></span><span class='rparen'>)</span>
  <span class='comment'># Can only be required after database connection has been made because the decorators rely on the Sequel models
</span>  <span class='ivar'>@create_pact_broker_api_block</span> <span class='op'>=</span> <span class='tlambda'>-&gt;</span><span class='lparen'>(</span><span class='rparen'>)</span> <span class='tlambeg'>{</span> <span class='id identifier rubyid_require'>require</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>pact_broker/api</span><span class='tstring_end'>&quot;</span></span><span class='semicolon'>;</span> <span class='const'><span class='object_link'><a href="../PactBroker.html" title="PactBroker (module)">PactBroker</a></span></span><span class='op'>::</span><span class='const'>API</span> <span class='rbrace'>}</span>
  <span class='ivar'>@configuration</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="../PactBroker.html" title="PactBroker (module)">PactBroker</a></span></span><span class='period'>.</span><span class='id identifier rubyid_configuration'><span class='object_link'><a href="../PactBroker.html#configuration-class_method" title="PactBroker.configuration (method)">configuration</a></span></span>
  <span class='kw'>yield</span> <span class='id identifier rubyid_configuration'>configuration</span> <span class='kw'>if</span> <span class='id identifier rubyid_block_given?'>block_given?</span>
  <span class='id identifier rubyid_post_configure'>post_configure</span>
  <span class='id identifier rubyid_prepare_database'>prepare_database</span>
  <span class='id identifier rubyid_load_configuration_from_database'>load_configuration_from_database</span>
  <span class='id identifier rubyid_seed_example_data'>seed_example_data</span>
  <span class='id identifier rubyid_print_startup_message'>print_startup_message</span>
  <span class='ivar'>@configuration</span><span class='period'>.</span><span class='id identifier rubyid_freeze'>freeze</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="configuration=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="configuration-instance_method">
  
    #<strong>configuration</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute configuration.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


39
40
41</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/app.rb', line 39</span>

<span class='kw'>def</span> <span class='id identifier rubyid_configuration'>configuration</span>
  <span class='ivar'>@configuration</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="call-instance_method">
  
    #<strong>call</strong>(env)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


89
90
91</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/app.rb', line 89</span>

<span class='kw'>def</span> <span class='id identifier rubyid_call'>call</span> <span class='id identifier rubyid_env'>env</span>
  <span class='id identifier rubyid_running_app'>running_app</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span> <span class='id identifier rubyid_env'>env</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use-instance_method">
  
    #<strong>use</strong>(*args, &amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Allows middleware to be inserted at the bottom of the shared middlware stack (ie just before the cascade is called for diagnostic, UI and API). To insert middleware at the top of the stack, initialize the middleware with the app, and run it manually. eg run MyMiddleware.new(app)</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


63
64
65</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/app.rb', line 63</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use'>use</span> <span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='ivar'>@app_builder</span><span class='period'>.</span><span class='id identifier rubyid_use'>use</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_args'>args</span><span class='comma'>,</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use_api_auth-instance_method">
  
    #<strong>use_api_auth</strong>(middleware)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>private API, not sure if this will continue to be supported</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


68
69
70</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/app.rb', line 68</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use_api_auth'>use_api_auth</span> <span class='id identifier rubyid_middleware'>middleware</span>
  <span class='ivar'>@make_it_later_api_auth</span><span class='period'>.</span><span class='id identifier rubyid_make_it_later'>make_it_later</span><span class='lparen'>(</span><span class='id identifier rubyid_middleware'>middleware</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use_custom_api-instance_method">
  
    #<strong>use_custom_api</strong>(custom_api)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


81
82
83</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/app.rb', line 81</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use_custom_api'>use_custom_api</span> <span class='id identifier rubyid_custom_api'>custom_api</span>
  <span class='ivar'>@custom_api</span> <span class='op'>=</span> <span class='id identifier rubyid_custom_api'>custom_api</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use_custom_ui-instance_method">
  
    #<strong>use_custom_ui</strong>(custom_ui)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


77
78
79</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/app.rb', line 77</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use_custom_ui'>use_custom_ui</span> <span class='id identifier rubyid_custom_ui'>custom_ui</span>
  <span class='ivar'>@custom_ui</span> <span class='op'>=</span> <span class='id identifier rubyid_custom_ui'>custom_ui</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use_to_create_pact_broker_api-instance_method">
  
    #<strong>use_to_create_pact_broker_api</strong>(&amp;block)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


85
86
87</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/app.rb', line 85</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use_to_create_pact_broker_api'>use_to_create_pact_broker_api</span> <span class='op'>&amp;</span><span class='id identifier rubyid_block'>block</span>
  <span class='ivar'>@create_pact_broker_api_block</span> <span class='op'>=</span> <span class='id identifier rubyid_block'>block</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="use_ui_auth-instance_method">
  
    #<strong>use_ui_auth</strong>(middleware)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>private API, not sure if this will continue to be supported</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


73
74
75</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'lib/pact_broker/app.rb', line 73</span>

<span class='kw'>def</span> <span class='id identifier rubyid_use_ui_auth'>use_ui_auth</span> <span class='id identifier rubyid_middleware'>middleware</span>
  <span class='ivar'>@make_it_later_ui_auth</span><span class='period'>.</span><span class='id identifier rubyid_make_it_later'>make_it_later</span><span class='lparen'>(</span><span class='id identifier rubyid_middleware'>middleware</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Tue Mar 22 17:40:12 2022 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.27 (ruby-2.7.5).
</div>

    </div>
  </body>
</html>